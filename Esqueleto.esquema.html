<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Mapa Mental ERP - BargasLautaro</title>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    </script>
    <style>
        body {
            background-color: #f0f0f0;
            margin: 0;
            overflow: hidden;
        }
        #container {
            width: 2000px;
            height: 3000px;
            overflow: hidden;
            position: relative;
            background: #f0f0f0;
            cursor: grab;
        }
        #zoom {
            transform-origin: 0 0;
            position: absolute;
            top: 0;
            left: 0;
        }
        .mermaid {
            background: white;
            border: 2px solid black;
            border-radius: 10px;
            padding: 10px;
            margin: 20px;
        }
    </style>
</head>
<body>

<h2 style="text-align:center;">Mapa Mental: ¿Qué es un ERP?</h2>

<div id="container">
  <div id="zoom">
    <div class="mermaid">
    mindmap
      root((ERP))
        Qué es
          "Sistema de planificación de recursos empresariales"
            Esta es otra rama
                sera o no sera?
          "Software que integra todas las áreas de una empresa"
        Características; 
            Integración
                Que todas las áreas y departamentos de la empresa comparten la misma base de datos y el mismo sistema de información en tiempo real. 
            Automatización 
            Información en tiempo real
            Modularidad
        Áreas que cubre
          Finanzas
          Recursos Humanos
          Producción
          Logística
          Ventas y Marketing
          Compras
        Beneficios
          "Mejora de la eficiencia"
          "Reducción de costos"
          "Mejora de la toma de decisiones"
        Ejemplos de ERP
          SAP
          Oracle
          Microsoft Dynamics
          Odoo
    </div>

    <div class="mermaid">
    mindmap
      root((ERP))
        Gestionar: Coordinar recursos para lograr un objetivo.
            Gestión de información: Conseguir la información adecuada, en el momento y forma correctos, al costo adecuado y para la persona indicada.
    
        </div>
   <p style="z-index: 99; ">dsalsalsadl</p> 




</div>

</div>



<script>
    document.addEventListener('DOMContentLoaded', function () {
        setTimeout(() => {
            const foreignDivs = document.querySelectorAll('foreignObject div');
    
            foreignDivs.forEach(div => {
                const text = div.textContent.trim();
                if (text.includes("SAP")) {
                    div.style.color = "red";          // Cambia color del texto
                    div.style.fontSize = "24px";       // Cambia tamaño de fuente
                    div.style.fontWeight = "bold";     // Negrita
                    div.style.backgroundColor = "#ffe6e6"; // (opcional) Fondo color diferente
                    div.style.border = "2px solid red";     // (opcional) Borde
                    div.style.borderRadius = "10px";        // Bordes redondeados
                    div.style.padding = "5px";              // Espaciado
                }
            });
        }, 1000); // espera que Mermaid termine de dibujar
    });
    </script>
    
<script>
let zoomElement = document.getElementById('zoom');
let container = document.getElementById('container');

let scale = 1;
let posX = 0;
let posY = 0;
let isDragging = false;
let startX, startY;

function updateTransform() {
    zoomElement.style.transform = `translate(${posX}px, ${posY}px) scale(${scale})`;
}

// Zoom con la rueda
container.addEventListener('wheel', function(e) {
    e.preventDefault();
    const zoomIntensity = 0.1;
    if (e.deltaY < 0) {
        scale *= (1 + zoomIntensity);
    } else {
        scale /= (1 + zoomIntensity);
    }
    updateTransform();
});

// Mover arrastrando
container.addEventListener('mousedown', function(e) {
    isDragging = true;
    startX = e.clientX - posX;
    startY = e.clientY - posY;
    container.style.cursor = 'grabbing';
});
container.addEventListener('mouseup', function() {
    isDragging = false;
    container.style.cursor = 'grab';
});
container.addEventListener('mousemove', function(e) {
    if (isDragging) {
        posX = e.clientX - startX;
        posY = e.clientY - startY;
        updateTransform();
    }
});

// Mover con flechas y zoom con + y -
document.addEventListener('keydown', function(e) {
    const moveAmount = 20; // Píxeles que se mueve con cada flecha
    const zoomIntensity = 0.1; // Zoom por pulsación +/-

    switch (e.key) {
        case 'ArrowLeft':
            posX += moveAmount;
            break;
        case 'ArrowRight':
            posX -= moveAmount;
            break;
        case 'ArrowUp':
            posY += moveAmount;
            break;
        case 'ArrowDown':
            posY -= moveAmount;
            break;
        case '+':
        case '=': // Algunas teclas + también registran '='
            scale *= (1 + zoomIntensity);
            break;
        case '-':
            scale /= (1 + zoomIntensity);
            break;
    }
    updateTransform();
});
</script>

</body>
</html>
